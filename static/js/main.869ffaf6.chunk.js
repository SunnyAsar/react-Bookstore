(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,n,t){e.exports=t(40)},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(11),i=t.n(o),c=t(6),u=t(22),l=t(1),s=t(24),f=t(7),d=t(9),p=t(14),m=t(12),b=t(15),h=t(5),g=t.n(h),v=t(10),O=t(16),E=t(28),x=new(function(){function e(n){Object(f.a)(this,e),this._index=0,this._collection={},this.Model=n}return Object(d.a)(e,[{key:"getCollection",value:function(){return Object.entries(this._collection).map(function(e){var n=Object(E.a)(e,2),t=n[0],r=n[1];return Object(O.a)({},r,{id:parseInt(t)})})}},{key:"addItem",value:function(e){var n=new this.Model(e),t=Object(O.a)({id:this._index},n);return this._collection[this._index]=n,this._index++,t}},{key:"removeItem",value:function(e){var n=Object(O.a)({},this._collection[e],{id:e});return delete this._collection[e],n}}]),e}())(function e(n){var t=n.title,r=n.category;Object(f.a)(this,e),this.title=t,this.category=r});x.addItem({title:"Quantum life",category:"Sci-Fi"}),x.addItem({title:"Rambo, the book",category:"Action"});var y={getAll:function(){return new Promise(function(e){setTimeout(function(){e(x.getCollection())},500)})},create:function(e){return new Promise(function(n,t){setTimeout(function(){""===e.title&&t(new Error("Title: can't be blank")),n(x.addItem(e))},500)})},delete:function(e){return new Promise(function(n){setTimeout(function(){n(x.removeItem(e))},500)})}},k=y,w=function(e){if(!e.response)return e.message;var n=e.response.data,t="";for(var r in n)t+="".concat(r,": ").concat(n[r]," |");return t.slice(0,-2)},j=function(e){return{type:"SET_BOOKS_COLLECTION",books:e}},A=function(e){return{type:"CREATE_BOOK",book:e}},_=function(e){return{type:"REMOVE_BOOK",book:e}},T=function(e){return function(n){n(function(e){return{type:"SHOW_ALERT",message:e}}(e)),setTimeout(function(){n({type:"HIDE_ALERT"})},2500)}},B=function(){var e=Object(v.a)(g.a.mark(function e(n,t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"START_LOADER"}),e.prev=1,e.next=4,t();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),n(T(w(e.t0)));case 9:return e.prev=9,n({type:"STOP_LOADER"}),e.finish(9);case 12:case"end":return e.stop()}},e,null,[[1,6,9,12]])}));return function(n,t){return e.apply(this,arguments)}}(),S=t(2),C=t(3);function L(){var e=Object(S.a)(["\n  background-color: white;\n  padding: 32px 27px;\n  margin: 15px 0;\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n  .category {\n    color: #121212;\n    font-size: 14px;\n    opacity: 0.5;\n    font-weight: bold;\n  }\n  h3 {\n    margin-bottom: 20px;\n    margin-top: 4px;\n    font-size: 22px;\n  }\n  button {\n    color: #4386bf;\n    background-color: white;\n    font-size: 14px;\n    cursor: pointer;\n    padding: 5px 15px;\n    border: 1px solid rgba(0,0,0,.1);\n    &:hover {\n      background-color: #4386bf;\n      color: white;\n    }\n  }\n"]);return L=function(){return e},e}var R=C.a.div(L()),D=Object(l.b)(null,{removeBookAsync:function(e){return function(n){return B(n,Object(v.a)(g.a.mark(function t(){var r;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.delete(e.id);case 2:r=t.sent,n(_(r));case 4:case"end":return t.stop()}},t)})))}}})(function(e){var n=e.book,t=e.removeBookAsync;return a.a.createElement(R,null,a.a.createElement("div",{className:"category"},n.category),a.a.createElement("h3",null,n.title),a.a.createElement("button",{onClick:function(){return t(n)}},"Delete"))});function I(){var e=Object(S.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  span {\n    margin-right: 10px;\n  }\n"]);return I=function(){return e},e}var H=C.a.div(I()),K=["All","Action","Biography","History","Horror","Kids","Learning","Sci-Fi"],F=Object(l.b)(null,{changeBooksFilter:function(e){return{type:"CHANGE_FILTER",filter:e}}})(function(e){return a.a.createElement(H,null,a.a.createElement("span",null,"Filter by:"),a.a.createElement("select",{onChange:function(n){return e.changeBooksFilter(n.target.value)}},K.map(function(e){return a.a.createElement("option",{key:e},e)})))}),N=Object(l.b)(function(e){return{books:(n=e.books,t=e.filter,n.filter(function(e){var n=e.category;return"All"===t||n===t}))};var n,t},null)(function(e){var n=e.books;return a.a.createElement("div",{style:{marginTop:"30px"}},a.a.createElement(F,null),a.a.createElement("div",null,n.map(function(e){return a.a.createElement(D,{book:e,key:e.id})})))}),z=t(13);function M(){var e=Object(S.a)(["\n  background-color: #0290ff;\n  color: white;\n  border: none;\n  height: 45px;\n  width: 184px;\n  border-radius: 3px;\n  font-size: 13px;\n  cursor: pointer;\n"]);return M=function(){return e},e}function P(){var e=Object(S.a)(["\n  margin-bottom: 40px;\n  h2 {\n    font-weight: bold;\n    font-size: 20px;\n    color: #888;\n    margin-top: 40px;\n    padding-top: 29px;\n    border-top: 1px solid #e8e8e8;\n    margin-bottom: 19px;\n  }\n  form {\n    display: flex;\n  }\n  select {\n    width: 285px;\n    margin: 0 34px;\n  }\n  input {\n    flex: 1;\n  }\n"]);return P=function(){return e},e}var W=C.a.div(P()),G=C.a.button(M()),J=["Action","Biography","History","Horror","Kids","Learning","Sci-Fi"],V=function(e){function n(){var e,t;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(m.a)(n)).call.apply(e,[this].concat(a)))).state={input:"",category:J[0]},t.handleChange=function(e){t.setState(Object(z.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.createBookAsync({title:t.state.input,category:t.state.category}).then(t.setState({input:""}))},t}return Object(b.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){return a.a.createElement(W,null,a.a.createElement("h2",null,"ADD NEW BOOK"),a.a.createElement("form",{onSubmit:this.handleSubmit},a.a.createElement("input",{name:"input",value:this.state.input,onChange:this.handleChange,placeholder:"Enter a Book"}),a.a.createElement("select",{name:"category",onChange:this.handleChange},J.map(function(e){return a.a.createElement("option",{value:e,key:e}," ",e," ")})),a.a.createElement(G,null,"ADD BOOK")))}}]),n}(a.a.Component),Q=Object(l.b)(null,{createBookAsync:function(e){return function(n){return B(n,Object(v.a)(g.a.mark(function t(){var r;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.create(e);case 2:r=t.sent,n(A(r));case 4:case"end":return t.stop()}},t)})))}}})(V);function q(){var e=Object(S.a)(["\n  height:95px;\n  background: white;\n  color: #0290ff;\n  display: flex;\n  align-items: center;\n  box-shadow: 0 0 6px rgba(0,0,0,.1);\n"]);return q=function(){return e},e}var U=C.a.nav(q()),X=function(){return a.a.createElement(U,null,a.a.createElement("div",{className:"container"},a.a.createElement("h1",null," BookStore")))};function Y(){var e=Object(S.a)(["\n  margin-top: 30px;\n  background-color: white;\n  padding: 40px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Y=function(){return e},e}function Z(){var e=Object(S.a)(['\n  display: inline-block;\n  width: 84px;\n  height: 84px;\n\n  &:after {\n    content: " ";\n    display: block;\n    width: 66px;\n    height: 66px;\n    margin: 1px;\n    border-radius: 50%;\n    border: 10px solid #0290ff;\n    border-color: #0290ff transparent #0290ff transparent;\n    animation: lds-dual-ring 1.2s linear infinite;\n  }\n\n  @keyframes lds-dual-ring {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n']);return Z=function(){return e},e}var $=C.a.div(Z()),ee=C.a.div(Y()),ne=Object(l.b)(function(e){return{isLoading:e.loader}},null)(function(e){var n=e.isLoading,t=e.children;return n?a.a.createElement(ee,null,a.a.createElement($,null)):a.a.createElement("div",null,t)});function te(){var e=Object(S.a)(["\n  background-color: red;\n  color: white;\n  padding: 10px;\n  text-align: center;\n  font-weight: bold;\n  font-size: 1.2rem;\n  border-radius: 4px;\n"]);return te=function(){return e},e}var re=C.a.div(te()),ae=Object(l.b)(function(e){return{showing:e.alert.show,message:e.alert.message}},null)(function(e){var n=e.showing,t=e.message;return n?a.a.createElement(re,null,t):null}),oe=function(e){function n(){return Object(f.a)(this,n),Object(p.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(b.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchBooks()}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(X,null),a.a.createElement("div",{className:"container"},a.a.createElement(ae,null),a.a.createElement(ne,null,a.a.createElement(N,null),a.a.createElement(Q,null))))}}]),n}(a.a.Component),ie=Object(l.b)(null,{fetchBooks:function(){return function(e){return B(e,Object(v.a)(g.a.mark(function n(){var t;return g.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k.getAll();case 2:t=n.sent,e(j(t));case 4:case"end":return n.stop()}},n)})))}}})(oe),ce=t(27),ue=[],le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_BOOKS_COLLECTION":return n.books.map(function(e){return{id:e.id,title:e.title,category:e.category}});case"CREATE_BOOK":return[].concat(Object(ce.a)(e),[n.book]);case"REMOVE_BOOK":return e.filter(function(e){return e.id!==n.book.id});default:return e}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"All",n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"CHANGE_FILTER":return n.filter;default:return e}},fe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"START_LOADER":return!0;case"STOP_LOADER":return!1;default:return e}},de={show:!1,message:""},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SHOW_ALERT":return{show:!0,message:n.message};case"HIDE_ALERT":return{show:!1,message:""};default:return e}},me=Object(c.combineReducers)({books:le,filter:se,loader:fe,alert:pe}),be=(t(39),Object(c.createStore)(me,Object(u.composeWithDevTools)(Object(c.applyMiddleware)(s.a))));i.a.render(a.a.createElement(l.a,{store:be},a.a.createElement(ie,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.869ffaf6.chunk.js.map